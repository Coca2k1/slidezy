function Slidezy(selector,options={}){this.container=document.querySelector(selector);if(!this.container){console.error(`Slidezy: Container "${selector}" not found!`);return}this.opt=Object.assign({items:1,speed:300,loop:true,nav:true,controls:true,controlTexts:["&#10095","&#10094"],prevButton:null,nextButton:null,slideBy:1,autoPlay:false},options);this.slides=Array.from(this.container.children);this._init();this._updatePosition()}Slidezy.prototype._init=function(){this.container.classList.add("slidezy-wrapper");this._createTrack();this.currentStep=this.opt.loop?this.opt.items:0;if(this.opt.controls)this._createButtons();this._createNavigation()};Slidezy.prototype._createTrack=function(){this.track=document.createElement("div");this.track.className="slidezy-track";if(this.opt.loop){const cloneHead=this.slides.slice(-this.opt.items).map(clone=>clone.cloneNode(true));const cloneTail=this.slides.slice(0,this.opt.items).map(clone=>clone.cloneNode(true));this.slides=cloneHead.concat(this.slides.concat(cloneTail))}this.slides.forEach((slide,index)=>{slide.classList.add("slidezy-slide");slide.style.flexBasis=`${100/this.opt.items}%`;this.track.append(slide)});this.container.append(this.track)};Slidezy.prototype._createButtons=function(){this.preBtn=this.opt.prevButton?document.querySelector(this.opt.prevButton):document.createElement("button");if(!this.opt.prevButton){this.preBtn.className="slidezy-pre";this.preBtn.innerHTML=this.opt.controlTexts[1];this.container.append(this.preBtn)}this.nextBtn=this.opt.nextButton?document.querySelector(this.opt.nextButton):document.createElement("button");if(!this.opt.nextButton){this.nextBtn.className="slidezy-next";this.nextBtn.innerHTML=this.opt.controlTexts[0];this.container.append(this.nextBtn)}const stepSize=this.opt.slideBy==="page"?this.opt.items:this.opt.slideBy;this.preBtn.onclick=()=>this.moveSlide(-stepSize);this.nextBtn.onclick=()=>this.moveSlide(stepSize)};Slidezy.prototype._createNavigation=function(){this.navWrapper=document.createElement("div");this.navWrapper.className="slidezy-nav";this.container.append(this.navWrapper);this.navCount=Math.ceil(this.opt.loop?(this.slides.length-this.opt.items*2)/this.opt.items:this.slides.length/this.opt.items);for(let i=0;i<this.navCount;i++){const dot=document.createElement("button");dot.className="slidezy-dot";this.navWrapper.append(dot);dot.onclick=()=>{this.currentStep=this.opt.loop?i*this.opt.items+this.opt.items:i*this.opt.items;this._updatePosition()}}};Slidezy.prototype.moveSlide=function(step){if(this._isTransitioning)return;this._isTransitioning=true;this.maxIndex=this.slides.length-this.opt.items;this.currentStep=Math.min(Math.max(this.currentStep+step,0),this.maxIndex);setTimeout(()=>this._infiniteLoop(),this.opt.speed);this._updatePosition()};Slidezy.prototype._infiniteLoop=function(){if(this.opt.loop){const slideCount=this._getSlideCount();if(this.currentStep>slideCount){this.currentStep-=slideCount;this._updatePosition(true)}if(this.currentStep<this.opt.items){this.currentStep+=slideCount;this._updatePosition(true)}}this._isTransitioning=false};Slidezy.prototype._getSlideCount=function(){return this.opt.loop?this.slides.length-this.opt.items*2:this.slides.length};Slidezy.prototype._updateNav=function(){let realIndex=this.currentStep;if(this.opt.loop){const slideCount=this._getSlideCount();realIndex=(this.currentStep-this.opt.items+slideCount)%slideCount}const pageIndex=Math.floor(realIndex/this.opt.items);const dots=Array.from(this.navWrapper.children);dots.forEach((dot,index)=>{dot.classList.toggle("active",index===pageIndex)})};Slidezy.prototype._updatePosition=function(instant=false){this.track.style.transition=instant?"none":`transform ${this.opt.speed}ms ease`;this.track.style.transform=`translateX(${-this.currentStep*100/this.opt.items}%)`;if(this.opt.nav&!instant){this._updateNav()}};Slidezy.prototype.autoPlay=function(){setInterval(()=>{this.moveSlide(1)},2e3)};